<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Brick Breaker - Shop Balls</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div id="topbar">
			<div id="money">Money: $0</div>
			<div id="gems" style="margin-top:4px;font-size:13px;color:#ffe7b6">Gems: 0</div>
			<div id="ballsOwned">Balls: 0</div>
			<div id="rebirthTracker" style="margin-left:12px;color:#ffdede">Rebirths: 0</div>
			<div id="shop">
				<!-- Buy dropdown: main button toggles menu -->
				<div class="buy-dropdown">
					<button id="buyBtn">Ball Shop</button>
					<div class="buy-menu" id="buyMenu" aria-hidden="true">
						<button class="buy-opt" data-count="1">Buy 1</button>
						<button class="buy-opt" data-count="5">Buy 5</button>
						<button class="buy-opt" data-count="10">Buy 10</button>
					</div>
				</div>
                <!-- Upgrades dropdown sits next to the buy menu -->
                <div class="upgrade-dropdown">
                    <button id="upgradeBtn">Upgrades</button>
                    <div class="upgrade-menu" id="upgradeMenu" aria-hidden="true"></div>
                </div>
				<!-- Gem shop dropdown -->
				<div class="gem-dropdown">
					<button id="gemBtn">Gem Shop</button>
					<div class="gem-menu" id="gemMenu" aria-hidden="true"></div>
				</div>
					<div class="help-dropdown">
						<div class="help-menu" id="helpMenu" aria-hidden="true"></div>
						</div>
							<div id="adminModal" class="help-menu" aria-hidden="true">
								<div style="padding:8px;">
									<div style="font-weight:700;margin-bottom:8px">Admin Login</div>
									<input id="adminPassInput" type="password" placeholder="Enter password" style="width:100%;padding:8px;margin-bottom:8px;border-radius:6px;border:0;background:rgba(255,255,255,0.03);color:#fff" />
									<div style="display:flex;gap:8px;justify-content:flex-end"><button id="adminPassOk" style="background:#10b981;color:#fff;padding:6px 10px;border:0;border-radius:6px">Open</button><button id="adminPassClose" style="background:#2563eb;color:#fff;padding:6px 10px;border:0;border-radius:6px">Close</button></div>
								</div>
							</div>
							<div id="adminPanel" class="help-menu" aria-hidden="true">
								<div style="padding:8px;min-width:300px;">
									<div style="font-weight:700;margin-bottom:8px">Admin Settings</div>
									<div style="margin-bottom:8px">Money: <input id="adminMoney" type="number" style="width:120px;padding:6px;border-radius:6px;border:0;background:rgba(255,255,255,0.03);color:#fff" /></div>
									<div style="margin-bottom:8px">Level: <input id="adminLevel" type="number" style="width:80px;padding:6px;border-radius:6px;border:0;background:rgba(255,255,255,0.03);color:#fff" /></div>
									<div style="margin-bottom:8px">Max Balls: <input id="adminMaxBalls" type="number" style="width:80px;padding:6px;border-radius:6px;border:0;background:rgba(255,255,255,0.03);color:#fff" /></div>
									<div style="display:flex;gap:8px;justify-content:flex-end">
										<button id="adminSetMoney" style="background:#10b981;color:#fff;padding:6px 10px;border:0;border-radius:6px">Set Money</button>
										<button id="adminSetLevel" style="background:#f59e0b;color:#fff;padding:6px 10px;border:0;border-radius:6px">Set Level</button>
										<button id="adminSetMax" style="background:#06b6d4;color:#fff;padding:6px 10px;border:0;border-radius:6px">Set Max Balls</button>
										<button id="adminClearSave" style="background:#ef4444;color:#fff;padding:6px 10px;border:0;border-radius:6px">Clear Save</button>
										<button id="adminClose" style="background:#2563eb;color:#fff;padding:6px 10px;border:0;border-radius:6px">Close</button>
									</div>
								</div>
							</div>
					</div>
		</div>

		<canvas id="snowCanvas" aria-hidden="true"></canvas>
		<canvas id="gameCanvas" width="800" height="600" aria-label="Brick breaker game canvas"></canvas>

		<div id="footer">Break a brick by clicking it to get started!</div>

		<!-- Rebirth control (fixed bottom-left) -->
		<div id="rebirthContainer" style="position:fixed;left:12px;bottom:12px;z-index:1200">
			<button id="rebirthBtn" style="background:#7c3aed;color:#fff;padding:8px 12px;border:0;border-radius:8px;box-shadow:0 6px 18px rgba(124,58,237,0.18)">Rebirth ($50,000)</button>
		</div>

		<!-- Settings panel (fixed bottom-right) -->
		<div id="settingsContainer" style="position:fixed;right:12px;bottom:12px;z-index:1300;text-align:right">
			<button id="settingsToggle" style="padding:8px 12px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--xmas-red),var(--xmas-green));color:#fff;font-weight:700;cursor:pointer">Settings â–¾</button>
			<div id="settingsMenu" class="settings-panel" aria-hidden="true" style="padding:8px;min-width:180px;position:relative;">
				<button id="helpBtn" style="display:block;margin-bottom:6px;padding:8px;border-radius:6px;border:0;background:#111827;color:#fff">Help</button>
				<button id="adminBtn" style="display:block;margin-bottom:6px;padding:8px;border-radius:6px;border:0;background:#111827;color:#fff">Admin</button>
				<button id="resetBtn" style="display:block;padding:8px;border-radius:6px;border:0;background:#ef4444;color:#fff">Reset Game</button>
			</div>
		</div>

		<!-- Reset confirmation modal (hidden by default) -->
		<div id="resetConfirmModal" aria-hidden="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1400;">
			<div style="background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);position:fixed;inset:0"></div>
			<div style="position:relative;z-index:1401;max-width:520px;width:92%;background:var(--panel);padding:18px;border-radius:10px;box-shadow:0 18px 60px rgba(0,0,0,0.6);color:#e6eef8;">
				<h3 style="margin:0 0 8px 0">Confirm Reset Game</h3>
				<p style="margin:0 0 12px">Resetting will clear your money, purchased balls, upgrades, level, and will <strong>reset your prestige (rebirths) and gems to zero</strong>. This action cannot be undone. To confirm, type <code>CONFIRM</code> (all caps) into the box below and click <em>Reset</em>.</p>
				<input id="resetConfirmInput" placeholder="Type CONFIRM to reset" style="width:100%;padding:10px;border-radius:6px;border:0;background:rgba(255,255,255,0.03);color:#fff;margin-bottom:6px" />
				<div id="resetConfirmHint" class="reset-hint">Input must be exactly <code>CONFIRM</code> (case-sensitive).</div>
				<div style="display:flex;gap:8px;justify-content:flex-end">
					<button id="resetConfirmCancel" style="padding:8px 12px;border-radius:6px;border:0;background:#374151;color:#fff">Cancel</button>
					<button id="resetConfirmOk" style="padding:8px 12px;border-radius:6px;border:0;background:#ef4444;color:#fff">Reset</button>
				</div>
			</div>
		</div>

		<script src="ballTypes.js"></script>
		<script src="script.js"></script>
	</body>
</html>
